---
layout: post
title: RISC-V指令集分析
categories: RISC-V CA
description: 对于RISC-V指令集的分析
keywords: RISC-V 指令集
---

# RISC-V指令集分析

## 背景
RISC-V指令集作为当前最新最流行的开源指令集，吸收了之前出现的指令集的优点，并极力避免了一些不足，创造性地使用了模块化指令集的概念，使得基于RISC-V指令集设计的芯片既可以用于极低功耗的嵌入式环境，也可用于高性能高带宽的业务场景，所以RISC-V具有广阔的应用市场和发展前景。本项目希望设计一个基于RV64I指令集的CPU，加强对于RISC-V的认知和理解。RV64I是64位架构的整数指令集，其是整个RISC-V指令集的一个子集，也是RV32I指令集的超集，也就是说RV64I是在RV32I的基础上发展而来，在后面具体的指令集分析时候，也可以看出来。设计CPU的第一步就是对于指令集的分析，本篇文章就是对于RV64I指令集的一个简单分析。

## RV64I
RV64I共有64条指令，包括59条基本指令，5条特权指令。59条基本指令中包括47条从RV32I指令发展而来的基本指令，这些指令大部分RV64I和RV32I通用，有小部分有细微差别；还包括12条RV64I独有的指令，具体的指令分析如下所示。

### R型指令
|指令|31~25|24~20|19~15|14~12|11~7|6~0|操作|类别|
|---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|add|0000000|rs2|rs1|000|rd|0110011|x[rd]=x[rs1]+x[rs2]，忽略算术溢出|RV32I & RV64I|
|sub|0100000|rs2|rs1|000|rd|0110011|x[rd]=x[rs1]-x[rs2]，忽略算术溢出|RV32I & RV64I|
