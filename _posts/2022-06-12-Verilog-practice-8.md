---
layout: post
title: Verilog编程-8. 线性反馈移位寄存器 LSFR
categories: Verilog
description: LSFR的原理，应用和Verilog实现
keywords: Verilog
---

# Verilog编程-8. 线性反馈移位寄存器 LSFR

## 背景和原理

线性反馈移位寄存器（LSFR, Linear Feedback Shift Register）通常用于循环冗余校验的特征分析以及伪随机二进制的产生，在介绍LSFR的原理之前，首先需要介绍模2运算和模2多项式。

### 模2运算

模2运算是一种二进制算法，包括模2加（`+`）、模2减（`-`）、模2乘（`×`或`·`）、模2除（`÷`或`/`）四种二进制运算。与四则运算不同的是模2运算不考虑进位和借位，即模2加法是不带进位的二进制加法运算，模2减法是不带借位的二进制减法运算，这样两个二进制位相运算的时候，两个位的值即可确定运算结果，不受前一次运算的影响，也不对下一次运算造成影响（本质上可以看成两个二进制按位异或的操作）。下图分别是模2加法和模2减法的简单示意图。

![](/images/blog/picture24.jpg)

![](/images/blog/picture25.jpg)

可以看出模2加法和模2减法是一回事，完全一样。并且通过按位异或的角度来看，模2加中`奇数个1相加得1，偶数个1相加得0`，这个结论在奇偶校验中很有用。

多位数的模2乘法和普通乘法演算是一样的，唯一的区别就是，部分积相加时按模2加。简单的示意图如下所示。

![](/images/blog/picture26.jpg)

模2除法是模2乘法的逆运算，其具有三个性质：
（1）当最后余数的位数小于除数位时候，除法停止；
（2）当被除数的位数小于除数位数时候，则商数为0，被除数就是余数；
（3）只要被除数或部分余数的位数与除数一样多，且最高位为1，不管其他位是什么数，皆可商1；

下面是模2除法的一个简单示意图。

![](/images/blog/picture27.jpg)

模2运算成为计算机、通信、编解码等学科的重要数学基础，在数字编码、数据校验等理论方面有重要应用。模2运算是编码理论中多项式运算的基础，下面就介绍模2多项式的概念和运算规则。

### 模2多项式

采用模2运算规则的多项式称之为模2多项式。

## 设计思路

## 代码

## 仿真结果